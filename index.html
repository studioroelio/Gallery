<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studioroelio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

<!-- Logo -->
<div class="logo">
    <img src="images/logo.png" alt="Studioroelio Logo">
</div>

<!-- Gallery -->
<div class="gallery">

<!-- intro in gallery -->
    <div class="intro-box">
    <p> <span class="highlight"> studioroelio </span> is the creative <br>outlet of Roel Schiffers.<br>
    Please reach out!</p>
       <div class="contact-icons">
  <a href="mailto:studioroelio@hotmail.com" title="Email">
    <i class="fa-solid fa-envelope"></i>
  </a>
  <a href="https://instagram.com/studioroelio" target="_blank" title="Instagram">
   <i class="fa-solid fa-camera"></i>
  </a>
</div>
    </div>
    
    <img src="images/painting2.jpg" data-width="80" data-height="100" alt="Newspaper Flowers">
    <img src="images/painting1.jpg" data-width="12" data-height="18" alt="Purple Shade">
    <img src="images/painting3.jpg" data-width="60" data-height="80" alt="Table Still Life">
    <img src="images/painting4.jpg" data-width="30" data-height="40" alt="Small Flowers with Lemonade">
    <img src="images/Painting6.jpg" data-width="70" data-height="100" alt="Still life AE (Commision)">
    
</div>

<!-- Modal for enlarged view -->
<div class="modal" id="modal">
    <span class="modal-close" id="modal-close">&times;</span>
    <img id="modal-img" src="" alt="Enlarged Painting">
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  /* ===== Helpers ===== */
  const isTouchDevice = () =>
    'ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;

  /* ===== True-to-size scaling with height cap ===== */
  function scalePaintings() {
    const imgs = Array.from(document.querySelectorAll('.gallery img'));
    if (!imgs.length) return;

    // Collect real-world dimensions (cm)
    let maxW = 0, maxH = 0;
    imgs.forEach(img => {
      const w = parseFloat(img.dataset.width);
      const h = parseFloat(img.dataset.height);
      if (!isNaN(w) && w > maxW) maxW = w;
      if (!isNaN(h) && h > maxH) maxH = h;
    });

    // Base target: max painting width ≈ 400px, but also cap tallest height to 65vh
    const MAX_W_PX = Math.min(420, Math.max(260, Math.round(window.innerWidth * 0.45)));
    const MAX_H_PX = Math.round(window.innerHeight * 0.65);

    // First try sizing by width
    let cmToPx = maxW > 0 ? (MAX_W_PX / maxW) : 1;

    // If that makes the tallest painting exceed our height cap, reduce scale
    if (maxH > 0 && maxH * cmToPx > MAX_H_PX) {
      cmToPx = MAX_H_PX / maxH;
    }

    // Apply widths; heights follow automatically (keep aspect from the image)
    imgs.forEach(img => {
      const realW = parseFloat(img.dataset.width);
      const w = !isNaN(realW) ? realW : maxW || 1;
      img.style.width = (w * cmToPx) + 'px';
      img.style.height = 'auto';
    });
  }

  scalePaintings();
  window.addEventListener('load', scalePaintings);
  window.addEventListener('resize', () => {
    // Debounce resize a bit for mobile rotations
    clearTimeout(window.__resizeTimer);
    window.__resizeTimer = setTimeout(scalePaintings, 120);
  });

  /* ===== Hover / Tap Info Box ===== */
  const hoverInfo = document.getElementById('hover-info');
  const paintings = document.querySelectorAll('.gallery img');

  // Desktop: instant show/hide
  paintings.forEach(img => {
    const width = img.dataset.width;
    const height = img.dataset.height;
    const desc = img.alt || 'Untitled';
    const infoText = `${desc} – ${width}cm × ${height}cm`;

    img.addEventListener('mouseenter', () => {
      if (!isTouchDevice()) {
        hoverInfo.textContent = infoText;
        hoverInfo.style.display = 'block';
        hoverInfo.classList.add('show');
        hoverInfo.classList.remove('hide');
      }
    });

    img.addEventListener('mouseleave', () => {
      if (!isTouchDevice()) {
        hoverInfo.classList.remove('show');
        hoverInfo.classList.add('hide');
        setTimeout(() => (hoverInfo.style.display = 'none'), 500);
      }
    });
  });

  // Mobile: tap to show, fade after 3s
  if (isTouchDevice()) {
    let hideTimeout;
    paintings.forEach(img => {
      img.addEventListener('click', (e) => {
        e.preventDefault(); // prevent modal from opening on tap
        const width = img.dataset.width;
        const height = img.dataset.height;
        const desc = img.alt || 'Untitled';
        const infoText = `${desc} – ${width}cm × ${height}cm`;

        hoverInfo.textContent = infoText;
        hoverInfo.style.display = 'block';
        hoverInfo.classList.add('show');
        hoverInfo.classList.remove('hide');

        clearTimeout(hideTimeout);
        hideTimeout = setTimeout(() => {
          hoverInfo.classList.add('hide');
          hoverInfo.classList.remove('show');
          setTimeout(() => (hoverInfo.style.display = 'none'), 500);
        }, 3000);
      });
    });
  }

  /* ===== Drag to Scroll ===== */
  const gallery = document.querySelector('.gallery');
  let isDown = false, startX = 0, scrollLeft = 0;

  gallery.addEventListener('wheel', (e) => {
    if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
      e.preventDefault();
      gallery.scrollLeft += e.deltaY;
    }
  }, { passive: false });

  gallery.addEventListener('mousedown', (e) => {
    isDown = true;
    startX = e.pageX - gallery.offsetLeft;
    scrollLeft = gallery.scrollLeft;
  });

  gallery.addEventListener('mouseleave', () => { isDown = false; });
  gallery.addEventListener('mouseup', () => { isDown = false; });

  gallery.addEventListener('mousemove', (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - gallery.offsetLeft;
    const walk = (x - startX) * 2; // scroll speed
    gallery.scrollLeft = scrollLeft - walk;
  });

  /* ===== Image Modal (desktop only so tap stays for info) ===== */
  if (!isTouchDevice()) {
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modal-img');
    const modalClose = document.getElementById('modal-close');

    paintings.forEach(img => {
      img.addEventListener('click', () => {
        modal.style.display = 'block';
        modalImg.src = img.src;
      });
    });

    modalClose.addEventListener('click', () => {
      modal.style.display = 'none';
    });
  }
});
</script>


<!-- Hover Info Box -->
<div class="hover-info" id="hover-info"></div>    

</body>
</html>
