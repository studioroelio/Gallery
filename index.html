<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studioroelio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Logo -->
<div class="logo">
    <img src="images/logo.png" alt="Studioroelio Logo">
</div>

<!-- Gallery -->
<div class="gallery">

<!-- intro in gallery -->
    <div class="intro-box">
    <p> <span class="highlight"> studioroelio </span> is the creative <br>outlet of Roel Schiffers.<br>
    Please reach out!</p>
        <div class="contact-icons">
        <a href="mailto:studioroelio@hotmail.com" title="Email">ðŸ“§</a>
        <a href="https://instagram.com/studioroelio" target="_blank" title="Instagram">ðŸ“·</a>
        </div>
    </div>
    
    <img src="images/painting2.jpg" data-width="80" data-height="100" alt="Newspaper Flowers, 80x100cm">
    <img src="images/painting1.jpg" data-width="12" data-height="18" alt="Purple Shade, 18x24cm">
    <img src="images/painting3.jpg" data-width="60" data-height="80" alt="Table Still Life, 60x80cm">
    <img src="images/painting4.jpg" data-width="30" data-height="40" alt="Small Flowers with Lemonade, 30x40cm">
    <img src="images/painting6.jpg" data-width="70" data-height="100" alt="Still life AE (Commision), 70x100cm">
    
</div>

<!-- Modal for enlarged view -->
<div class="modal" id="modal">
    <span class="modal-close" id="modal-close">&times;</span>
    <img id="modal-img" src="" alt="Enlarged Painting">
</div>

<script>
function scalePaintings() {
  const paintings = document.querySelectorAll(".gallery img");
  let maxWidth = 0;

  paintings.forEach(img => {
    const w = parseFloat(img.dataset.width);
    if (!isNaN(w) && w > maxWidth) maxWidth = w;
  });

  const LARGEST_DISPLAY_WIDTH = 400; // px for the biggest painting

  if (maxWidth <= 0) {
    paintings.forEach(img => img.style.width = LARGEST_DISPLAY_WIDTH + 'px');
    return;
  }

  paintings.forEach(img => {
    const realWidth = parseFloat(img.dataset.width);
    const scale = (!isNaN(realWidth) ? realWidth : maxWidth) / maxWidth;
    img.style.width = (scale * LARGEST_DISPLAY_WIDTH) + 'px';
  });
}

// Run now (script is at end of body), and again on full load just in case
scalePaintings();
window.addEventListener('load', scalePaintings);

/* ====== Hover Info Box ====== */
const hoverInfo = document.getElementById('hover-info');

document.querySelectorAll('.gallery img').forEach(img => {
    const width = img.dataset.width;
    const height = img.dataset.height;
    const desc = img.alt || "Untitled";

    img.addEventListener('mouseenter', () => {
        hoverInfo.textContent = `${desc} â€“ ${width}cm Ã— ${height}cm`;
        hoverInfo.style.display = 'block';
    });

    img.addEventListener('mouseleave', () => {
        hoverInfo.style.display = 'none';
    });
});
    
// ====== Drag to Scroll ======
const gallery = document.querySelector('.gallery');
let isDown = false;
let startX;
let scrollLeft;

gallery.addEventListener('wheel', (e) => {
  if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
    e.preventDefault();
    gallery.scrollLeft += e.deltaY;
  }
}, { passive: false });
    
gallery.addEventListener('mousedown', (e) => {
    isDown = true;
    gallery.classList.add('active');
    startX = e.pageX - gallery.offsetLeft;
    scrollLeft = gallery.scrollLeft;
});

gallery.addEventListener('mouseleave', () => {
    isDown = false;
});

gallery.addEventListener('mouseup', () => {
    isDown = false;
});

gallery.addEventListener('mousemove', (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - gallery.offsetLeft;
    const walk = (x - startX) * 2; // scroll speed
    gallery.scrollLeft = scrollLeft - walk;
});

// ====== Image Modal ======
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modal-img');
const modalClose = document.getElementById('modal-close');

document.querySelectorAll('.gallery img').forEach(img => {
    img.addEventListener('click', () => {
        modal.style.display = 'block';
        modalImg.src = img.src;
    });
});

modalClose.addEventListener('click', () => {
    modal.style.display = 'none';
});

</script>

<!-- Hover Info Box -->
<div class="hover-info" id="hover-info"></div>    

</body>
</html>
